{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nlet formData = { email: '', message: '' };\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\n\nrefs.form.addEventListener('input', e => {\n    formData.email = e.currentTarget.elements.email.value.trim();\n    formData.message = e.currentTarget.elements.message.value.trim();\n\n    saveToLocalStorage(STORAGE_KEY, formData);\n});\n\nfunction checkStorage() {\n  const localData = loadFromLocalStorage(STORAGE_KEY);\n\n  if(localData){\n    refs.form.elements.email.value = localData.email || '';\n    refs.form.elements.message.value = localData.message || '';\n  }\n}\n\ncheckStorage();\n\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  formData.email = e.currentTarget.elements.email.value.trim();\n  formData.message = e.currentTarget.elements.message.value.trim();\n  \n  if (!formData.message || !formData.message) {\n     alert(\"Fill please all fields\");\n    return;\n  } \n\n  console.log(formData);\n  localStorage.removeItem(STORAGE_KEY);\n  formData = { email: \"\", message: \"\" };\n  e.currentTarget.reset();\n});\n\n\n\nfunction saveToLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction loadFromLocalStorage(key) {\n  const userData = localStorage.getItem(key);\n  try {\n    return JSON.parse(userData);\n  } catch {\n    return userData;\n  }\n}\n\n"],"names":["STORAGE_KEY","formData","refs","saveToLocalStorage","checkStorage","localData","loadFromLocalStorage","key","value","userData"],"mappings":"wFAAA,MAAMA,EAAc,sBACpB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAGAA,EAAK,KAAK,iBAAiB,QAAS,GAAK,CACrCD,EAAS,MAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OACtDA,EAAS,QAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OAE1DE,EAAmBH,EAAaC,CAAQ,CAC5C,CAAC,EAED,SAASG,GAAe,CACtB,MAAMC,EAAYC,EAAqBN,CAAW,EAE/CK,IACDH,EAAK,KAAK,SAAS,MAAM,MAAQG,EAAU,OAAS,GACpDH,EAAK,KAAK,SAAS,QAAQ,MAAQG,EAAU,SAAW,GAE5D,CAEAD,IAGAF,EAAK,KAAK,iBAAiB,SAAU,GAAK,CAKxC,GAJA,EAAE,eAAc,EAChBD,EAAS,MAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OACtDA,EAAS,QAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OAEtD,CAACA,EAAS,SAAW,CAACA,EAAS,QAAS,CACzC,MAAM,wBAAwB,EAC/B,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWD,CAAW,EACnCC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,EAAE,cAAc,OAClB,CAAC,EAID,SAASE,EAAmBI,EAAKC,EAAO,CACtC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEA,SAASF,EAAqBC,EAAK,CACjC,MAAME,EAAW,aAAa,QAAQF,CAAG,EACzC,GAAI,CACF,OAAO,KAAK,MAAME,CAAQ,CAC9B,MAAU,CACN,OAAOA,CACR,CACH"}